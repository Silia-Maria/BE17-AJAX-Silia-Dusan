<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intermediate Exercise</title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>

<body>
    <div class="bg-dark text-light py-2">
        <h1 class="text-center">Best Songs of 2022</h1>
    </div>

    <table class="table mt-3">
        <thead>
            <th>Title</th>
            <th>Artist</th>
            <th>Genre</th>
            <th>Country</th>
        </thead>
        <tbody id="tbody">

        </tbody>

    </table>


    <script>
        function printBody() {
            let xhttp = new XMLHttpRequest();
            xhttp.open("GET", "songs.xml");
            xhttp.onload = function() {
                if (this.status == 200) {
                    convertXml(this.responseXML);
                }
            };
            xhttp.send();
        }

        function convertXml(xml) {
            let tbody = document.getElementById("tbody");
            let songs = xml.getElementsByTagName("song");
            for (let i = 0; i < songs.length; i++) {
                tbody.innerHTML += `<tr>
                <td>${songs[i].getElementsByTagName('title')[0].childNodes[0].nodeValue}</td>
                <td>${songs[i].getElementsByTagName('artist')[0].childNodes[0].nodeValue}</td>
                <td>${songs[i].getElementsByTagName('genre')[0].childNodes[0].nodeValue}</td>
                <td>${songs[i].getElementsByTagName('country')[0].childNodes[0].nodeValue}</td>
            </tr>`;
            }

        }
        printBody();
        console.log(printBody);
    </script>

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</body>

</html>